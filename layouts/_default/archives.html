{{ define "main" }}
<div class="list-page archives">
    <header class="list-header">
        <h1 class="list-title">{{ .Title }}</h1>
    </header>

    {{ $pages := where .Site.RegularPages "Type" "posts" }}
    {{ $grouped := $pages.GroupByDate "2006" }}

    {{ range $grouped }}
    <section class="archive-year">
        <h2 class="year-title">{{ .Key }}</h2>
        <div class="posts-list">
            {{ range .Pages }}
            <article class="post-card">
                <a href="{{ .Permalink }}" class="post-link">
                    <div class="post-meta">
                        <time datetime="{{ .Date.Format "2006-01-02" }}">{{ .Date.Format "Jan 2" }}</time>
                    </div>
                    <h3 class="post-title">{{ .Title }}</h3>
                </a>
            </article>
            {{ end }}
        </div>
    </section>
    {{ end }}
</div>

<style>
.archives .archive-year {
    margin-bottom: 2.5rem;
}

.archives .year-title {
    font-size: 1.5rem;
    font-weight: 700;
    margin-bottom: 1rem;
    color: var(--accent);
    font-family: var(--font-mono);
}
</style>
{{ end }}
